name: Test VPS Connection

# Workflow Ä‘Æ¡n giáº£n Ä‘á»ƒ test SSH connection
# DÃ¹ng Ä‘á»ƒ verify secrets Ä‘Ã£ setup Ä‘Ãºng chÆ°a

on:
  workflow_dispatch:  # Chá»‰ cháº¡y manual

jobs:
  test:
    name: Test SSH Connection
    runs-on: ubuntu-latest
    
    steps:
      - name: ğŸ”Œ Test SSH Connection
        uses: appleboy/ssh-action@master
        with:
          host: ${{ secrets.VPS_HOST }}
          username: ${{ secrets.VPS_USERNAME }}
          key: ${{ secrets.VPS_SSH_KEY }}
          port: ${{ secrets.VPS_PORT }}
          script: |
            echo "âœ… SSH Connection successful!"
            echo "ğŸ“ Current directory: $(pwd)"
            echo "ğŸ‘¤ Current user: $(whoami)"
            echo "ğŸ–¥ï¸  Hostname: $(hostname)"
            echo "ğŸ’¾ Disk usage:"
            df -h /
            echo "ğŸ§ OS Info:"
            cat /etc/os-release | grep PRETTY_NAME
            echo ""
            echo "ğŸ‰ All checks passed! You can deploy now."

